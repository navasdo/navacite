<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navacite Library - Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        /* Style for error messages */
        .error-message {
            display: none; /* Hidden by default */
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Style for the modal backdrop to animate in */
        .modal-enter {
            opacity: 0;
        }
        .modal-enter-active {
            opacity: 1;
            transition: opacity 300ms;
        }
        /* Style for the modal content to animate in */
        .modal-content-enter {
            opacity: 0;
            transform: scale(0.95);
        }
        .modal-content-enter-active {
            opacity: 1;
            transform: scale(1);
            transition: opacity 300ms, transform 300ms;
        }
    </style>
</head>
<body class="bg-[#0c0a18] min-h-screen font-sans text-slate-300 flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 relative overflow-x-hidden">

    <div id="termsModal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 modal-enter">
        <div class="bg-slate-800 border border-violet-700/50 rounded-2xl shadow-2xl shadow-violet-500/10 p-6 sm:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto modal-content-enter">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-slate-100">Terms & Disclaimer</h2>
                <button id="closeTermsModal" class="text-slate-400 hover:text-white transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="space-y-6 text-slate-300 text-left text-sm">
                <div>
                    <h3 class="text-xl font-semibold text-violet-400 mb-2">Disclaimer</h3>
                    <p>Navacite tools are provided “as is” and are not intended to diagnose, prevent, or cure any speech-language disorder. They are designed as supplemental engagement supports to be used by qualified professionals. Navacite makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties, including without limitation, implied warranties of merchantability, fitness for a particular purpose, and non-infringement of intellectual property or other rights. Navacite does not warrant or make any representations concerning the accuracy, likely results, or reliability of the materials on this site or on any sites linked to it.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-violet-400 mb-2">Professional Responsibility</h3>
                    <p>The responsibility for all clinical decisions, interpretations, and applications of Navacite tools rests solely with the licensed professional using them. Navacite assumes no liability for misuse, misapplication, or outcomes resulting from the use of these materials.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-violet-400 mb-2">Revisions and Errata</h3>
                    <p>The materials appearing on Navacite’s web site may include technical, typographical, or content errors. Navacite does not warrant that any of the materials are accurate, complete, or current. Navacite may make changes to the materials contained on its site at any time without notice, but makes no commitment to update them.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-violet-400 mb-2">Terms of Use Modifications</h3>
                    <p>Navacite may revise these terms of use at any time without notice. By using this site you agree to be bound by the then-current version of these Terms & Disclaimer provisions.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-violet-400 mb-2">Conflict of Interest Disclaimer</h3>
                    <p>Navacite is an independent project created in a personal capacity by its author. It is not a product of, nor is it affiliated with, endorsed by, or representative of any school district, university, or employer. All intellectual property, design, and code on this site were developed as an independent effort, outside the scope of employment. Use of Navacite does not imply involvement, approval, or responsibility by any employer, past or present.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-violet-400 mb-2">Limitation of Liability</h3>
                    <p>In no event shall Navacite or its creator be liable for any damages (including, without limitation, damages for loss of data, income, or clinical outcomes) arising out of the use or inability to use the materials on this site, even if Navacite has been notified of the possibility of such damages.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-violet-400 mb-2">Governing Law</h3>
                    <p>Any claim relating to Navacite’s web site shall be governed by the laws of the State of Nebraska (USA), without regard to its conflict of law provisions.</p>
                </div>
            </div>
        </div>
    </div>

    <header class="w-full max-w-5xl mx-auto mb-8 text-center">
        <img
          src="https://raw.githubusercontent.com/navasdo/navacite/refs/heads/main/templates/static/navacite-images/Navacite-Main.png"
          alt="Navacite Main Visual"
          class="w-48 mx-auto mb-4 [filter:drop-shadow(0_0_15px_rgba(255,255,255,0.3))]"
          onerror="this.onerror=null; this.src='https://placehold.co/192x108/0c0a18/a78bfa?text=Navacite-Main';"
        />
        <div class="flex justify-center items-center gap-x-2 mb-3">
            <h1 class="text-5xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-500">
              Navacite Library
            </h1>
        </div>
        <p class="text-md md:text-lg text-slate-400 italic max-w-3xl mx-auto">
          A Repository of Speech-Language Therapy Related Web Apps.
        </p>
    </header>

    <main class="w-full max-w-sm mx-auto bg-slate-800/50 border border-violet-700/30 rounded-2xl shadow-2xl shadow-violet-500/10 p-8">
        <form id="loginForm">
            <h2 class="text-2xl font-bold text-center text-slate-100 mb-6">Member Login</h2>
            
            <div class="mb-4">
                <label for="username" class="block text-sm font-medium text-slate-400 mb-2">Username</label>
                <input type="text" id="username" name="username" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-slate-300 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-300" required>
            </div>
            
            <div class="mb-6">
                <label for="password" class="block text-sm font-medium text-slate-400 mb-2">Password</label>
                <input type="password" id="password" name="password" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-slate-300 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-300" required>
            </div>
            
            <div id="errorMessage" class="error-message text-red-400 text-sm text-center mb-4 p-3 bg-red-900/30 border border-red-500/50 rounded-lg">
                Invalid username or password.
            </div>

            <button type="submit" class="w-full bg-violet-600 hover:bg-violet-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300 mb-4">
                Login
            </button>

            <a href="apply.html" class="w-full block text-center bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300">
                Apply for Account
            </a>
        </form>
    </main>

    <footer class="w-full max-w-3xl mx-auto mt-24 text-center text-sm text-slate-500 p-6 border-t border-slate-800/50">
        <p class="font-bold text-violet-400">
            &copy; 2025 Navacite | All Rights Reserved
        </p>
        <p class="mt-4 text-xs text-slate-500">
            Navacite tools are provided ‘as is’ and are not intended to diagnose. Use requires professional judgment. 
            <a href="#" id="openTermsModal" class="underline hover:text-violet-400 transition-colors">Terms & Disclaimer</a>
        </p>
   </footer>

   <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Login Form Logic ---
        const loginForm = document.getElementById('loginForm');
        if (loginForm) {
            loginForm.addEventListener('submit', async function(event) {
                event.preventDefault();
                
                const username = event.target.username.value;
                const password = event.target.password.value;
                const errorMessage = document.getElementById('errorMessage');

                try {
                    const response = await fetch('/api/login', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ username, password }),
                    });

                    if (response.ok) {
                        window.location.href = '/library'; 
                    } else {
                        errorMessage.style.display = 'block';
                        console.error('Login failed');
                    }
                } catch (error) {
                    errorMessage.textContent = 'An error occurred. Please try again.';
                    errorMessage.style.display = 'block';
                    console.error('Error during login:', error);
                }
            });
        }

        // --- Terms & Disclaimer Modal Logic ---
        const termsModal = document.getElementById('termsModal');
        const openTermsLink = document.getElementById('openTermsModal');
        const closeTermsButton = document.getElementById('closeTermsModal');

        function showTermsModal(event) {
            event.preventDefault(); 
            termsModal.classList.remove('hidden');
            setTimeout(() => {
                termsModal.classList.add('modal-enter-active');
                termsModal.querySelector('.modal-content-enter').classList.add('modal-content-enter-active');
            }, 10);
        }

        function hideTermsModal() {
            termsModal.classList.add('hidden');
            termsModal.classList.remove('modal-enter-active');
            termsModal.querySelector('.modal-content-enter').classList.remove('modal-content-enter-active');
        }

        if (openTermsLink) {
            openTermsLink.addEventListener('click', showTermsModal);
        }
        if (closeTermsButton) {
            closeTermsButton.addEventListener('click', hideTermsModal);
        }
        if (termsModal) {
            termsModal.addEventListener('click', (event) => {
                if (event.target === termsModal) {
                    hideTermsModal();
                }
            });
        }
    });
   </script>
</body>
</html>
